# Example Terraform Variables Configuration for AWS App Runner
# Copy this file to terraform.tfvars and customize the values

# General Configuration
aws_region     = "eu-west-1"
environment    = "prod"
project_name   = "document-categoriser"
project_owner  = "your-email@example.com"
repository_url = "https://github.com/BMustafa97/document-categoriser"

# ECR Configuration
ecr_repository_name = "document-categoriser"
image_tag          = "latest"

# Domain Configuration (Optional - leave empty to use App Runner default URL)
domain_name           = ""  # Example: "myapp.example.com"
enable_www_subdomain  = true

# App Runner Configuration
apprunner_cpu    = "0.25 vCPU"  # Options: "0.25 vCPU", "0.5 vCPU", "1 vCPU", "2 vCPU", "4 vCPU"
apprunner_memory = "0.5 GB"     # Options: "0.5 GB", "1 GB", "2 GB", "3 GB", "4 GB", "6 GB", "8 GB", "10 GB", "12 GB"
container_port   = 5001

# Auto Deployments
auto_deployments_enabled = true

# Auto Scaling Configuration
max_concurrency = 100  # Maximum concurrent requests per instance
min_size       = 1     # Minimum number of instances
max_size       = 3     # Maximum number of instances

# Health Check Configuration
health_check_path                = "/"
health_check_healthy_threshold   = 1
health_check_unhealthy_threshold = 5
health_check_interval           = 10  # seconds
health_check_timeout            = 2   # seconds

# Container Environment Variables
container_environment_variables = [
  {
    name  = "FLASK_ENV"
    value = "production"
  },
  {
    name  = "PYTHONUNBUFFERED"
    value = "1"
  },
  # Add more environment variables as needed
  # {
  #   name  = "SECRET_KEY"
  #   value = "your-secret-key"
  # }
]

# Container Secrets (from AWS Secrets Manager or Parameter Store)
container_secrets = [
  # Example:
  # {
  #   name      = "DATABASE_PASSWORD"
  #   valueFrom = "arn:aws:secretsmanager:eu-west-1:123456789012:secret:prod/myapp/db-password-AbCdEf"
  # }
]
subnet_ids = []

# Cost Optimization
use_fargate_spot = false  # Set to true for non-production to save costs
